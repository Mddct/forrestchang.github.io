<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> The Python Tutorial 阅读笔记 · Hack Notes</title><meta name="description" content="The Python Tutorial 阅读笔记 - Tisoga"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://forrestchang.github.io/atom.xml" title="Hack Notes"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://twitter.com/Tisoga" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/forrestchang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">The Python Tutorial 阅读笔记</h1><div class="post-info">Jul 17, 2016</div><div class="post-content"><p><em>The Python Tutorial</em> 是很好的学习资源，之前已经粗略的读过一遍，有不少细节性的东西都被略过了，这次详细地阅读一遍，顺便记录一些笔记，以供之后参考使用</p>
<a id="more"></a>
<h2 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h2><h3 id="More-on-Lists"><a href="#More-on-Lists" class="headerlink" title="More on Lists"></a>More on Lists</h3><ul>
<li><code>list.append(x)</code>: Equivalent to <code>a[len(a):] = [x]</code></li>
<li><code>list.extend(L)</code>: Extend the list by appending all the items in the given list. Equivalent to <code>a[len(a):] = L</code></li>
<li><code>list.insert(i, x)</code>: The first argument is the index of the element before which to insert. <code>a.insert(len(a), x)</code> == <code>a.append(x)</code>.</li>
<li><code>list.remove(x)</code>: Remove the first item form the list whose value is x.</li>
<li><code>list.pop([i])</code>: Remove the item at the given position in the list, and return it. If no index is specified, <code>a.pop()</code> removes and returns the last item in the list.（参数中的方括号表明参数是可选的）</li>
<li><code>list.clear()</code>: Remove all item from the list. Equivalent to <code>del a[:]</code></li>
<li><code>list.index(x)</code>: Return the index in the list of the first item whose value is x.</li>
<li><code>list.count(x)</code>: Return the number of times x appears in the list.</li>
<li><code>list.sort(key=None, reverse=False)</code>: Sort the items of the list in place.</li>
<li><code>list.reverse()</code>: Reverse the elements of the list in place.</li>
<li><code>list.copy()</code>: Return a shallow copy of the list. Equivalent to <code>a[:]</code>.</li>
</ul>
<h4 id="Using-Lists-as-Stacks"><a href="#Using-Lists-as-Stacks" class="headerlink" title="Using Lists as Stacks"></a>Using Lists as Stacks</h4><p>Use <code>append</code> and <code>pop</code>.</p>
<h4 id="Using-Lists-as-Queues"><a href="#Using-Lists-as-Queues" class="headerlink" title="Using Lists as Queues"></a>Using Lists as Queues</h4><p>Lists are not efficient for this purpose. While appends and pops from the end of list are fast, doing inserts or pops from beginning of a list is slow.</p>
<p>Better to use <code>collections.deque</code>.</p>
<h4 id="List-Comprehensions"><a href="#List-Comprehensions" class="headerlink" title="List Comprehensions"></a>List Comprehensions</h4><ul>
<li><code>x = [item for item in series]</code></li>
<li><code>x = [do_something(item) for item in series if expression]</code></li>
</ul>
<h4 id="Nested-List-Comprehensions"><a href="#Nested-List-Comprehensions" class="headerlink" title="Nested List Comprehensions"></a>Nested List Comprehensions</h4><p>The initial expression in a list comprehension can be any arbitrary expression, including another list comprehension.</p>
<p>Example: <code>[[row[i] for row in matrix] for i in range(4)]</code>.</p>
<h4 id="The-del-statement"><a href="#The-del-statement" class="headerlink" title="The del statement"></a>The <code>del</code> statement</h4><p>Remove an item from a list given its index. (Do not return a value) It can also remove slices from a list.</p>
<p><code>del</code> can also be used to delete entire variables: <code>del a</code>.</p>
<h3 id="Tuples-and-Sequences"><a href="#Tuples-and-Sequences" class="headerlink" title="Tuples and Sequences"></a>Tuples and Sequences</h3><p>Tuples are <code>immutable</code>, and usually contain a heterogeneous sequence of elements that are accessed via unpacking or indexing. List are <code>mutable</code>, and their element are usually homogeneous and are accessed by iterating over the list.</p>
<ul>
<li>Empty tuples are constructed by and empty pair of parentheses: <code>empty = ()</code></li>
<li>A tuple with one item is constructed by following a value with a comma:     <code>sigleton = &#39;hello&#39;,</code></li>
</ul>
<p>The statement <code>t = 1, 2, &#39;hello&#39;</code> is an example of <code>tuple packing</code>: the values are packed together in a tuple. The reverse operation is also possible: <code>x, y, z = t</code>.</p>
<h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><p><code>{}</code> or <code>set()</code> function can be used to create sets. Note: to create an empty set you have to use <code>set()</code>, not <code>{}</code>; the latter creates an empty dictionary.</p>
<p>Example: </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = set(<span class="string">'abracadabra'</span>)</div><div class="line">b = set(<span class="string">'alacazam'</span>)</div></pre></td></tr></table></figure>
<ul>
<li><code>a - b</code>: letters in a but not in b</li>
<li><code>a | b</code>: letters in either a or b</li>
<li><code>a &amp; b</code>: letters in both a and b</li>
<li><code>a ^ b</code>: letters in a or b but not both</li>
</ul>
<p>Similaryly to list comprehensions, set comprehensions are also supported.</p>
<h3 id="Dictionaries"><a href="#Dictionaries" class="headerlink" title="Dictionaries"></a>Dictionaries</h3><p>Dictionaries are indexed by keys, which can be any immutable type; strings and numbers can slways be keys. Tuples can be used as keys if they contain only one kind of item. You can’t use use lists as keys, since lists can be modified in place using index assignments, slice assignments, or method like append() and extend().</p>
<p>It is best to think of a dictionary as an unordered set of <code>key: value</code> pairs.</p>
<ul>
<li><code>del</code> can delete a <code>key: value</code></li>
<li><code>list(d.keys())</code> on a dictionary returns a list of all the keys used in the dictionary, in arbitrary order (if you want it sorted, use <code>sortted(d.keys())</code> instead).</li>
<li>To check whether a single key is in the dictionary, use the <code>in</code> keyword. (<code>in</code> or <code>not in</code>)</li>
<li>Dict comprehensions can be used to create dictionaries from arbitrary key and value expressions: <code>{x: x**2 for x in range(10)}</code></li>
<li>When the keys are simple strings, it is sometimes easier to specify pairs using keyword arguments: <code>dic(sape=1, guido=2, jack=3)</code> =&gt; <code>{&#39;sape&#39;: 1, &#39;jack&#39;: 3, &#39;guido&#39;: 2}</code></li>
</ul>
<h3 id="Looping-Techniques"><a href="#Looping-Techniques" class="headerlink" title="Looping Techniques"></a>Looping Techniques</h3><p>When looping through dictionaries, the key and corresponding value can be retrieved at the same time using the items() method.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">knights = &#123;<span class="string">'gallahad'</span>: <span class="string">'the pure'</span>, <span class="string">'robin'</span>: <span class="string">'the brave'</span>&#125;</div><div class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> knights.items():</div><div class="line">	print(k, v)</div></pre></td></tr></table></figure>
<p>When looping through a sequence, the position index and correspoding value can be retrieved at the same time using the <code>enumerate()</code> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate([<span class="string">'tic'</span>, <span class="string">'tac'</span>, <span class="string">'toe'</span>]):</div><div class="line">	print(i, v)</div></pre></td></tr></table></figure>
<p>To loop over two or more sequences at the same time, the entries can be paired with the <code>zip()</code> function.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">names = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>]</div><div class="line"><span class="keyword">for</span> number, name <span class="keyword">in</span> zip(numbers, names):</div><div class="line">	print(<span class="string">'Number: &#123;0&#125;, Name: &#123;1&#125;'</span>.format(number, name))</div></pre></td></tr></table></figure>
<p>To loop over a sequence in sorted order, use the <code>sorted()</code> function which return a new sorted list while leaving the source unaltered. <code>for item in soted(list)</code></p>
<p>It is sometimes tempting to change a list while you are looping over it; however, it is often simple and safer to create a new list instead.</p>
<h3 id="More-on-Conditions"><a href="#More-on-Conditions" class="headerlink" title="More on Conditions"></a>More on Conditions</h3><ul>
<li><code>in</code> and <code>not in</code>: check whether a value occurs (or not) in a sequence.</li>
<li><code>is</code> and <code>is not</code>: compare whether two objects are really the same object; this only matters for mutable objcts like lists.</li>
<li>Comparisons can be chained. <code>a &lt; b == c</code></li>
<li><code>and</code> and <code>or</code> are <code>short-circuit</code> operators</li>
</ul>
<h3 id="Comparing-Sequences-and-Other-Types"><a href="#Comparing-Sequences-and-Other-Types" class="headerlink" title="Comparing Sequences and Other Types"></a>Comparing Sequences and Other Types</h3><p>The comparison uses lexicographical ordering.</p>
<h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2><p>A module is a file containing Python definitions and statements. The file name is the module name with the suffix <code>.py</code> appended. Within a module, the module’s name (as a string) is available as the value of the global variable <code>__name__</code>.</p>
<h3 id="More-on-Modules"><a href="#More-on-Modules" class="headerlink" title="More on Modules"></a>More on Modules</h3><p>Note that in general the practice of importing <code>*</code> from a module is frowned upon, since it often causes poorly readable code. (It ok to use in interactive sessions.)</p>
<p>It’s one module you want to test interactively, use <code>importlib.reload()</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> importlib</div><div class="line">importlib.reload(modulename)</div></pre></td></tr></table></figure>
<h4 id="Executing-modules-as-scripts"><a href="#Executing-modules-as-scripts" class="headerlink" title="Executing modules as scripts"></a>Executing modules as scripts</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">	code</div></pre></td></tr></table></figure>
<p>This is often used either to provide a convenient user interface to a module, or for testing purposes (running the module as a script executes a test suite).</p>
<h4 id="The-Module-Search-Path"><a href="#The-Module-Search-Path" class="headerlink" title="The Module Search Path"></a>The Module Search Path</h4><p>When a module named <em>spam</em> is imported, the interpreter first searches for a built-in module with that name. If not found, it then searches for a file named <code>spam.py</code> in a list of directories given by the variable <code>sys.path</code>, it is initialized from these locations:</p>
<ul>
<li>The directory containing the input script (or the current directory when no file is specified).</li>
<li><code>PYTHONPATH</code> (a list of directory names, with the same syntax as the shell variable <em>PATH</em>).</li>
<li>The installation-dependent default.</li>
</ul>
<p>After initialization, Python programs can modify <code>sys.path</code>. The directory containing the script being run is placed at the beginning of the search path, ahead of the standard library path. This means that scripts in that directory will be loaded instead of modules of the same name in the library directory.</p>
<h4 id="“Compiled”-Python-files"><a href="#“Compiled”-Python-files" class="headerlink" title="“Compiled” Python files"></a>“Compiled” Python files</h4><p>Python caches the compiled version of each module in the <code>__pycache__</code> directory. It generally contains the Python version number. This naming convention allows compiled modules from dirrerent release and different version of Python to coexist. (Example: <code>__pycache__/fib.python-27.pyc</code>)</p>
<p>Python check the modification date of the source against the compiled version to see if it’s out of date and needs to be recompiled.</p>
<h3 id="Standard-Modules"><a href="#Standard-Modules" class="headerlink" title="Standard Modules"></a>Standard Modules</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>sys.ps1</div><div class="line"><span class="string">'&gt;&gt;&gt; '</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>sys.ps2</div><div class="line"><span class="string">'... '</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>sys.ps1 = <span class="string">'C&gt; '</span></div><div class="line">C&gt; print(<span class="string">'Yuck!'</span>)</div><div class="line">Yuck!</div></pre></td></tr></table></figure>
<p>The variable <code>sys.path</code> is a list of strings that determines the interpreter’s search path for modules. You can modify it using standard list operations.</p>
<h3 id="The-dir-Function"><a href="#The-dir-Function" class="headerlink" title="The dir() Function"></a>The <code>dir()</code> Function</h3><p>The built-in function <code>dir()</code> is used to find out which names a module defines.</p>
<p>Without arguments, <code>dir()</code> lists the names you have defined currently.</p>
<p>It list all types of names: variable, modules, functions, etc.</p>
<h2 id="Input-and-Output"><a href="#Input-and-Output" class="headerlink" title="Input and Output"></a>Input and Output</h2><h3 id="Methods-of-File-Objects"><a href="#Methods-of-File-Objects" class="headerlink" title="Methods of File Objects"></a>Methods of File Objects</h3><p>It is good practice to use the <code>with</code> keyword when dealing with file objects. This has the advantage that the file is properly closed after its suite finishes, even if an exceptiohn is raissed on the way. It is also much shorter thatn writing equivalent <code>try-finally</code> blocks:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> open(<span class="string">'workfile'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</div><div class="line">	read_data = f.read()</div></pre></td></tr></table></figure>
</div></article></div></section><footer><div class="paginator"><a href="/2016/08/01/github-combo-plan/" class="prev">上一篇</a><a href="/2016/07/17/virtualenv-notes/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'tisogasnotes';
var disqus_identifier = '2016/07/17/the-python-tutorial/';
var disqus_title = 'The Python Tutorial 阅读笔记';
var disqus_url = 'http://forrestchang.github.io/2016/07/17/the-python-tutorial/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//tisogasnotes.disqus.com/count.js" async></script><div class="copyright"><p>© 2014 - 2016 <a href="http://forrestchang.github.io">Tisoga</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-56515498-2",'auto');ga('send','pageview');</script></body></html>